!function(t){function e(){var e,n=_.extend({},Object.getPrototypeOf(this),this.constructor.__super__);for(var r in n)n.hasOwnProperty(r)&&(e=n[r],e instanceof t.Computed&&o(this,e,r))}t.Computed=function(e){return this instanceof t.Computed?(e=Array.prototype.slice.call(e,0),this.computedFunction=e[e.length-1],this.dep=e.slice(0,-1),void 0):new t.Computed(arguments)},t.Computed.prototype.getDependentProperties=function(){return this.dep};var n=t.Model;t.Model=n.extend({constructor:function(){n.apply(this,arguments),e.call(this)}});var o=function(t,e,n){var o=function(){t.set(n,e.computedFunction.call(t))},r=_.memoize(function(){return _.filter(e.getDependentProperties(),function(t){return t.indexOf("event:")<0})}),i=_.memoize(function(){return _.chain(e.getDependentProperties()).filter(function(t){return 0===t.indexOf("event:")}).map(function(t){return t.replace("event:","")}).value()}),u=function(){return r().map(function(t){return"change:"+t})},c=function(){if(r().length){var e=u().join(" ");t.on(e,o)}},p=function(){if(i().length){var e=i().join(" ");t.on(e,o)}};c(),p(),o()}}(Backbone);