!function(t){t.Computed=function(e){return this instanceof t.Computed?(e=Array.prototype.slice.call(e,0),this.computedFunction=e[e.length-1],this.dep=e.slice(0,-1),void 0):new t.Computed(arguments)},t.Computed.prototype.getDependentProperties=function(){return this.dep};var e=t.Model;t.Model=e.extend({constructor:function(){e.apply(this,arguments),this._initializeComputedProperties()}}),t.Model.prototype._initializeComputedProperties=function(){var e,o=Object.getPrototypeOf(this);for(var n in o)o.hasOwnProperty(n)&&(e=o[n],e instanceof t.Computed&&(this.set(n,e.computedFunction.call(this)),this._setupComputedPropertyBindings(n,e)))},t.Model.prototype._setupComputedPropertyBindings=function(t,e){var o=this,n=e.getDependentProperties();if(n.length>0){var i=n.map(function(t){return"change:"+t}),r=i.join(" ");this.on(r,function(){var n=e.computedFunction.call(o);o.set(t,n)},this)}}}(Backbone);